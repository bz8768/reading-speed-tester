<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Test and improve your reading speed with comprehension tracking. RSVP and scrolling reading modes with detailed statistics.">
    <title>Reading Speed Tester | Improve Your Reading</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/design-system.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="container header-content">
            <a href="#" class="logo">
                <span class="logo-icon">üìñ</span>
                <span class="logo-text">Speed<span class="text-primary">Reader</span></span>
            </a>
            <nav class="nav">
                <button class="nav-btn active" data-view="home">Home</button>
                <button class="nav-btn" data-view="library">Library</button>
                <button class="nav-btn" data-view="stats">Stats</button>
            </nav>
            <div class="header-stats">
                <div class="stat-mini">
                    <span class="stat-mini-value" id="header-avg-wpm">--</span>
                    <span class="stat-mini-label">Avg WPM</span>
                </div>
                <div class="stat-mini">
                    <span class="stat-mini-value" id="header-accuracy">--</span>
                    <span class="stat-mini-label">Accuracy</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Home View -->
        <section class="view active" id="view-home">
            <!-- Hero Section -->
            <div class="hero">
                <div class="hero-content">
                    <p class="hero-subtitle">Reading Comprehension Trainer</p>
                    <h1 class="hero-title">Speed<span class="text-primary">Reader</span></h1>
                    <p class="hero-description">
                        Train your reading speed while maintaining comprehension.
                        Choose from curated passages, test yourself, and track your progress.
                    </p>
                    <div class="hero-actions">
                        <button class="btn btn-primary btn-lg" id="start-reading-btn">
                            Start Reading
                            <span class="btn-icon">‚Üí</span>
                        </button>
                        <button class="btn btn-ghost btn-lg" id="view-library-btn">
                            Browse Library
                        </button>
                    </div>
                </div>
                <div class="hero-stats">
                    <div class="hero-stat-card">
                        <span class="hero-stat-value" id="total-passages">--</span>
                        <span class="hero-stat-label">Passages</span>
                    </div>
                    <div class="hero-stat-card">
                        <span class="hero-stat-value" id="total-words-read">--</span>
                        <span class="hero-stat-label">Words Read</span>
                    </div>
                    <div class="hero-stat-card">
                        <span class="hero-stat-value" id="sessions-completed">--</span>
                        <span class="hero-stat-label">Sessions</span>
                    </div>
                </div>
            </div>

            <!-- Quick Start Section -->
            <div class="container">
                <div class="section">
                    <h2 class="section-title">Quick Start</h2>
                    <div class="mode-cards">
                        <div class="mode-card" data-mode="rsvp">
                            <div class="mode-card-icon">‚ö°</div>
                            <h3 class="mode-card-title">RSVP Mode</h3>
                            <p class="mode-card-desc">Rapid Serial Visual Presentation. One word at a time for maximum
                                focus and speed.</p>
                            <div class="mode-card-features">
                                <span class="feature-tag">Focus Letter</span>
                                <span class="feature-tag">Auto-Pause</span>
                            </div>
                        </div>
                        <div class="mode-card" data-mode="scroll">
                            <div class="mode-card-icon">üìú</div>
                            <h3 class="mode-card-title">Scroll Mode</h3>
                            <p class="mode-card-desc">See words in context. Current word highlighted as text scrolls
                                smoothly.</p>
                            <div class="mode-card-features">
                                <span class="feature-tag">Context View</span>
                                <span class="feature-tag">Smooth Scroll</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="section">
                    <h2 class="section-title">Recent Activity</h2>
                    <div class="activity-list" id="recent-activity">
                        <div class="empty-state">
                            <span class="empty-icon">üìö</span>
                            <p>No reading sessions yet. Start your first one!</p>
                        </div>
                    </div>
                </div>

                <!-- Footer Credit -->
                <footer class="site-footer">
                    <p>Made with üíú by <a href="https://www.linkedin.com/in/bob-z-946024b8/" target="_blank"
                            rel="noopener noreferrer">Bob Zhu</a></p>
                </footer>

                <!-- ARTIN Education Brand Reveal -->
                <div class="artin-reveal-section" id="artin-animation">
                    <div class="artin-words-container">
                        <div class="artin-word">
                            <span class="artin-core">ART</span><span class="artin-expand artin-expand-ificial"></span>
                        </div>
                        <div class="artin-word">
                            <span class="artin-core">IN</span><span class="artin-expand artin-expand-telligence"></span>
                        </div>
                    </div>
                    <div class="artin-education-text">EDUCATION</div>
                    <p class="artin-tagline">Where Intelligence Meets Learning</p>
                </div>

                <script>
                    // ARTIN to ARTIFICIAL INTELLIGENCE animation
                    (function () {
                        const observer = new IntersectionObserver((entries) => {
                            entries.forEach(entry => {
                                if (entry.isIntersecting) {
                                    startArtinAnimation();
                                    observer.unobserve(entry.target);
                                }
                            });
                        }, { threshold: 0.5 });

                        const section = document.getElementById('artin-animation');
                        if (section) observer.observe(section);

                        function startArtinAnimation() {
                            const ificial = 'IFICIAL';
                            const telligence = 'TELLIGENCE';
                            const ificialContainer = document.querySelector('.artin-expand-ificial');
                            const telligenceContainer = document.querySelector('.artin-expand-telligence');

                            // Add glow class to core letters
                            setTimeout(() => {
                                document.querySelectorAll('.artin-core').forEach(el => {
                                    el.classList.add('glowing');
                                });
                            }, 500);

                            // Animate IFICIAL letters
                            ificial.split('').forEach((letter, i) => {
                                setTimeout(() => {
                                    const span = document.createElement('span');
                                    span.textContent = letter;
                                    span.className = 'artin-letter';
                                    span.style.animationDelay = (i * 0.05) + 's';
                                    ificialContainer.appendChild(span);
                                }, 1000 + (i * 80));
                            });

                            // Animate TELLIGENCE letters
                            telligence.split('').forEach((letter, i) => {
                                setTimeout(() => {
                                    const span = document.createElement('span');
                                    span.textContent = letter;
                                    span.className = 'artin-letter';
                                    span.style.animationDelay = (i * 0.05) + 's';
                                    telligenceContainer.appendChild(span);
                                }, 1000 + (i * 80));
                            });
                        }
                    })();
                </script>
            </div>
        </section>

        <!-- Library View -->
        <section class="view" id="view-library">
            <div class="container">
                <div class="library-header">
                    <h1 class="page-title">Passage Library</h1>
                    <div class="library-filters">
                        <button class="filter-btn active" data-category="all">All</button>
                        <button class="filter-btn" data-category="fiction">Fiction</button>
                        <button class="filter-btn" data-category="science">Science</button>
                        <button class="filter-btn" data-category="history">History</button>
                        <button class="filter-btn" data-category="literature">Literature</button>
                        <button class="filter-btn" data-category="technology">Technology</button>
                        <button class="filter-btn" data-category="nature">Nature</button>
                    </div>
                </div>
                <div class="passage-grid" id="passage-grid">
                    <!-- Passages will be dynamically loaded here -->
                </div>
            </div>
        </section>

        <!-- Stats View -->
        <section class="view" id="view-stats">
            <div class="container">
                <h1 class="page-title">Your Statistics</h1>

                <div class="stats-overview">
                    <div class="stat-card stat-card-primary">
                        <span class="stat-card-icon">‚ö°</span>
                        <div class="stat-card-content">
                            <span class="stat-card-value" id="stat-avg-wpm">--</span>
                            <span class="stat-card-label">Average WPM</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-card-icon">üéØ</span>
                        <div class="stat-card-content">
                            <span class="stat-card-value" id="stat-accuracy">--</span>
                            <span class="stat-card-label">Comprehension</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-card-icon">üìñ</span>
                        <div class="stat-card-content">
                            <span class="stat-card-value" id="stat-total-words">--</span>
                            <span class="stat-card-label">Words Read</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-card-icon">üî•</span>
                        <div class="stat-card-content">
                            <span class="stat-card-value" id="stat-streak">--</span>
                            <span class="stat-card-label">Day Streak</span>
                        </div>
                    </div>
                </div>

                <div class="stats-charts">
                    <div class="chart-card">
                        <h3 class="chart-title">Reading Speed Over Time</h3>
                        <div class="chart-container" id="wpm-chart">
                            <div class="chart-placeholder">Complete a few sessions to see your progress!</div>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3 class="chart-title">Comprehension Trend</h3>
                        <div class="chart-container" id="accuracy-chart">
                            <div class="chart-placeholder">Complete a few sessions to see your progress!</div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">Session History</h2>
                    <div class="history-list" id="session-history">
                        <div class="empty-state">
                            <span class="empty-icon">üìä</span>
                            <p>No sessions recorded yet.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Reading View (Hidden by default) -->
        <section class="view reading-view" id="view-reading">
            <div class="reading-header">
                <button class="btn btn-ghost btn-sm" id="exit-reading">
                    ‚Üê Exit
                </button>
                <div class="reading-info">
                    <span class="reading-title" id="current-passage-title">--</span>
                    <span class="reading-progress" id="reading-progress">0%</span>
                </div>
                <div class="reading-stats">
                    <span class="reading-stat">
                        <span id="current-wpm">300</span> WPM
                    </span>
                    <span class="reading-stat">
                        <span id="words-remaining">--</span> words left
                    </span>
                </div>
            </div>

            <!-- RSVP Display -->
            <div class="reader-container" id="rsvp-container">
                <div class="rsvp-display">
                    <div class="rsvp-word" id="rsvp-word">
                        <span class="word-before"></span>
                        <span class="focus-letter"></span>
                        <span class="word-after"></span>
                    </div>
                    <div class="rsvp-guide">
                        <div class="guide-line"></div>
                    </div>
                </div>
            </div>

            <!-- Scroll Display -->
            <div class="reader-container hidden" id="scroll-container">
                <div class="scroll-display" id="scroll-display">
                    <!-- Text will be rendered here with word spans -->
                </div>
            </div>

            <!-- Reading Controls -->
            <div class="reading-controls">
                <div class="controls-row">
                    <button class="control-btn" id="btn-slower" title="Slower">
                        <span>‚àí</span>
                    </button>
                    <button class="control-btn control-btn-primary" id="btn-play-pause" title="Play/Pause">
                        <span id="play-icon">‚ñ∂</span>
                    </button>
                    <button class="control-btn" id="btn-faster" title="Faster">
                        <span>+</span>
                    </button>
                </div>
                <div class="speed-slider-container">
                    <span class="speed-label">100</span>
                    <input type="range" class="speed-slider" id="speed-slider" min="100" max="1000" value="300"
                        step="25">
                    <span class="speed-label">1000</span>
                </div>
                <div class="mode-toggle">
                    <button class="mode-toggle-btn active" data-reader-mode="rsvp">RSVP</button>
                    <button class="mode-toggle-btn" data-reader-mode="scroll">Scroll</button>
                </div>
            </div>
        </section>

        <!-- Quiz View (Hidden by default) -->
        <section class="view quiz-view" id="view-quiz">
            <div class="quiz-container">
                <div class="quiz-header">
                    <h2 class="quiz-title">Comprehension Check</h2>
                    <div class="quiz-progress">
                        <span id="quiz-current">1</span> / <span id="quiz-total">20</span>
                    </div>
                </div>

                <div class="quiz-content">
                    <div class="question-card" id="question-card">
                        <p class="question-text" id="question-text">Loading question...</p>
                        <div class="answers" id="answers-container">
                            <!-- Answers will be dynamically loaded -->
                        </div>
                    </div>
                </div>

                <div class="quiz-footer">
                    <div class="quiz-score">
                        Score: <span id="current-score">0</span>
                    </div>
                    <button class="btn btn-primary" id="next-question-btn" disabled>
                        Next Question
                    </button>
                </div>
            </div>
        </section>

        <!-- Results View (Hidden by default) -->
        <section class="view results-view" id="view-results">
            <div class="results-container">
                <div class="results-header">
                    <span class="results-icon">üéâ</span>
                    <h1 class="results-title">Session Complete!</h1>
                </div>

                <div class="results-stats">
                    <div class="result-stat result-stat-primary">
                        <span class="result-stat-value" id="result-wpm">--</span>
                        <span class="result-stat-label">Words Per Minute</span>
                    </div>
                    <div class="result-stat">
                        <span class="result-stat-value" id="result-accuracy">--</span>
                        <span class="result-stat-label">Comprehension</span>
                    </div>
                    <div class="result-stat">
                        <span class="result-stat-value" id="result-time">--</span>
                        <span class="result-stat-label">Reading Time</span>
                    </div>
                    <div class="result-stat">
                        <span class="result-stat-value" id="result-words">--</span>
                        <span class="result-stat-label">Words Read</span>
                    </div>
                </div>

                <div class="results-breakdown">
                    <h3>Question Breakdown</h3>
                    <div class="breakdown-list" id="breakdown-list">
                        <!-- Question breakdown will be shown here -->
                    </div>
                </div>

                <div class="results-actions">
                    <button class="btn btn-primary btn-lg" id="read-again-btn">
                        Read Another Passage
                    </button>
                    <button class="btn btn-ghost btn-lg" id="view-stats-btn">
                        View Statistics
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Passage Selection Modal -->
    <div class="modal" id="passage-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Select a Passage</h2>
                <button class="modal-close" id="close-passage-modal">√ó</button>
            </div>
            <div class="modal-body">
                <div class="passage-preview" id="passage-preview">
                    <!-- Passage details will be shown here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" id="cancel-passage">Cancel</button>
                <button class="btn btn-primary" id="confirm-passage">Start Reading</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="data/passages.js"></script>
    <script src="js/stats.js"></script>
    <script src="js/reader.js"></script>
    <script src="js/questions.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>

</html>